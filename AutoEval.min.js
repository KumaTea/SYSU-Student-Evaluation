var times,repeat,finish,delay=2e3,item=0,goodrate=1;function sleep(e){return new Promise(t=>setTimeout(t,e))}async function autoEval(){for(repeat=0;repeat<5;repeat++){for(times=0;times<10&&(await sleep(delay),document.querySelector("[class=alls-con] .stu-eva-con").querySelectorAll(".sys-card")[item]);times++){document.querySelector("[class=alls-con] .stu-eva-con").querySelectorAll(".sys-card")[item].querySelector("button").click(),await sleep(delay),Array.from(document.querySelectorAll("[aria-labelledby=rcDialogTitle0] .ant-radio-group")).map(e=>e.querySelectorAll(Math.random()<goodrate?'input[value="0.95"]':'input[value="0.75"]')).map(e=>e[0]).map(e=>e.click()),await sleep(delay),document.querySelector(".ant-modal-footer").querySelector(".ant-btn-primary").click(),await sleep(delay);var e=!0;try{var t=document.querySelector(".ant-modal-body").querySelectorAll("img")}catch(l){t=[];e=!1}for(;e;){if(!(t.length>0)){e=!1;break}if("验证码"!=t[t.length-1].alt){e=!1;break}alert("请手动输入验证码（区分大小写）！"),await sleep(10*delay);try{document.querySelector(".ant-modal-footer").querySelector(".ant-btn-primary").click()}catch(e){}await sleep(delay);try{t=document.querySelector(".ant-modal-body").querySelectorAll("img")}catch(l){t=[];e=!1}}null!=document.querySelector(".ant-modal-close")&&(document.querySelector(".ant-modal-close").click(),item++)}document.querySelector("[class=alls-con] .stu-eva-con").querySelector(".stu-eva-more").querySelector("i").click()}finish=item>0?"评教完成。\n共"+item+"次无法评价。":"评教已顺利完成。",alert(finish)}autoEval();